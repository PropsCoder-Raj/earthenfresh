<ion-header class="ion-no-border">
  <ion-toolbar color="transparent">
    <ion-buttons slot="start">
      <ion-button (click)="back()" mode="ios"> 
        <ion-icon name="chevron-back" color="light" class="back-icon"></ion-icon>
      </ion-button>
      
    </ion-buttons>
    <ion-title color="light">Refer a Friend</ion-title>
    <ion-buttons slot="end">
      <ion-button *ngIf="!editS" style="color: white;" (click)="editS = true;" mode="ios"> 
        Edit
      </ion-button>
      <ion-button *ngIf="editS" style="color: white;" (click)="editS = false;" mode="ios"> 
        Cancel
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">

 
  <div class="container">
    <ion-grid class="topSection">
      <ion-row>
        <ion-col size="12" class="ion-text-center">
          <div class="ion-text-center">
            <img src="assets/referral.svg" alt="" style="height: 18rem;width: 19rem;">
          </div>
        </ion-col>
        <ion-col size="12">
          <div>
            <ion-item *ngIf="!editS" color="transparent" lines="none">
              <ion-label color="light">{{userS.referalCode}}</ion-label>
              <ion-button color="light" (click)="copyMessage(userS.referalCode)"> copy </ion-button>
              <ion-button color="light" (click)="share()"> Share </ion-button>
            </ion-item>
            <ion-item *ngIf="editS" color="transparent" lines="none">
              <ion-input style="color: white;" placeholder="Change your referal code" [(ngModel)]="userS.referalCode"></ion-input>
              <ion-button color="light" (click)="update();"> update </ion-button>
            </ion-item>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <div class="referalCodeBox">
            <ion-item color="transparent" lines="none">
              <ion-icon color="light" name="checkmark-outline" slot="start"></ion-icon>
              <ion-label color="light">Share referral code with friends</ion-label>
            </ion-item>
            <ion-item color="transparent" lines="none">
              <ion-icon color="light" name="checkmark-outline" slot="start"></ion-icon>
              <ion-label color="light">Your friends will get <b>₹ {{referralAmount}}</b> discount on package subscription</ion-label>
            </ion-item>
            <ion-item color="transparent" lines="none">
              <ion-icon color="light" name="checkmark-outline" slot="start"></ion-icon>
              <ion-label color="light">You will earn <b>₹ {{referralAmount}}</b> and redeem on package subscription</ion-label>
            </ion-item>
          </div>
        </ion-col>
      </ion-row>

    <br><br>  

    <ion-row id="list">
      <ion-col size="12">
        <div class="ion-text-left" style="color: white">My Referrals</div>
      </ion-col>
      <ion-col size="12" *ngIf="transactionCount == 0">
        <div class="ion-text-left" style="color: white;font-size: small;">Look's like you did not refer your friend</div>
      </ion-col>  
      <ion-col size="12" *ngIf="transactionCount > 0">
        <ng-container *ngFor="let item of transactionList">
          <ion-item lines="full">
            <ion-label>
              <ion-row>
                <ion-col size="12">
                  <h4><ion-text color="white">{{item.name}}</ion-text></h4>
                  <h3><ion-text color="white">{{item.data.createdAt | date: 'dd MMM yyyy, hh:mm a'}}</ion-text></h3>
                </ion-col>
              </ion-row>
            </ion-label>
          </ion-item>
        </ng-container>
      </ion-col>
    </ion-row>
    </ion-grid>
  </div>  

</ion-content>
